# Development overrides
# This file is automatically loaded by `docker compose up`
# For production, use: docker compose -f docker-compose.yml up -d

services:
  # Expose PostgreSQL for local development tools (pgAdmin, DBeaver, etc.)
  postgres:
    ports:
      - "${POSTGRES_PORT:-5432}:5432"

  # Expose REST API directly for local development
  rest-api:
    ports:
      - "${API_PORT:-3000}:3000"
    environment:
      NODE_ENV: development
      LOG_LEVEL: debug

  # Expose frontend directly for local development
  frontend-next:
    ports:
      - "${FRONTEND_PORT:-3001}:3000"
    environment:
      NEXT_PUBLIC_API_URL: ${NEXT_PUBLIC_API_URL:-http://localhost:3000}

  # Disable Caddy in development (services are accessed directly)
  caddy:
    profiles: ["production"]

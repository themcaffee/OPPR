# Development overrides
# This file is automatically loaded by `docker compose up`
# For production, use: docker compose -f docker-compose.yml up -d

services:
  # Expose PostgreSQL for local development tools (pgAdmin, DBeaver, etc.)
  postgres:
    ports:
      - "${POSTGRES_PORT:-5432}:5432"

  # REST API - development settings (not exposed directly, use Caddy)
  rest-api:
    environment:
      NODE_ENV: development
      LOG_LEVEL: debug

  # Caddy reverse proxy - use HTTP on port 8080 for local development
  # Override production ports (80, 443) with just 8080
  caddy:
    ports:
      !override
      - "${CADDY_PORT:-8080}:80"
    environment:
      DOMAIN: ":80"
